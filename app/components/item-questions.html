<div class="row budgetkey-item-questions-wrapper">
  <div class="col-xs-1"></div>
  <div class="col-xs-8">
    <div class="budgetkey-item-questions" [ngClass]="{expanded: isDropDownVisible}">
      <div class="current">
        <ng-container *ngFor="let fragment of currentQuestion.parsed">
          <span *ngIf="fragment.isText">{{ fragment.value }}</span>
          <item-questions-parameter *ngIf="fragment.isParameter"
            [value]="currentParameters[fragment.name]"
            [values]="fragment.values | keys"
            (change)="setParameter(fragment.name, $event)"
          ></item-questions-parameter>
        </ng-container>
        <img *ngIf="isSearching" src="assets/img/loader.svg" />
        <div class="toggle" (click)="toggleDropDown()">
          <i class="glyphicon glyphicon-chevron-down" *ngIf="!isDropDownVisible"></i>
          <i class="glyphicon glyphicon-chevron-up" *ngIf="isDropDownVisible"></i>
        </div>
      </div>
      <div *ngIf="isDropDownVisible" class="questions">
        <div *ngFor="let question of preparedQuestions" class="item-questions-fragments-wrapper"
          (click)="selectQuestion(question)">
          <ng-container *ngFor="let fragment of question.parsed">
            <span *ngIf="fragment.isText">{{ fragment.value }}</span>
            <span class="item-questions-parameter value" *ngIf="fragment.isParameter">{{ fragment.value }}</span>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
  <div class="col-xs-2 item-questions-actions">
    <a [href]="downloadUrl" title="הורדת טבלה" target="_blank">
      <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1"
        viewBox="0 0 24 32" width="20" height="25">
        <svg:path class="filled" d="m 13.126828,0.5939288 0.002,0.00195 -10.4980469,0 c -1.106,0
              -2.0019531,0.8968594 -2.0019531,2.0058594 l 0,22.9843758 c 0,1.108 0.8890938,2.007812
              1.9960938,2.007812 l 12.6230472,0 c -0.0026,-0.05759 -0.01758,-0.111685 -0.01758,-0.169922
              0,-0.286942 0.03855,-0.563512 0.09961,-0.832031 l -12.7031711,3e-6 c -0.545,0 -1,-0.444141
              -1,-0.994141 l 0,-23.0097656 c 0,-0.54 0.4460937,-0.9941406 0.9960938,-0.9941406 l
              10.0039063,0 0,4.9921875 c 0,1.1189995 0.895047,2.0058595 1.998047,2.0058595 l 4.001953,0
              0,15.1152342 c 0.11881,-0.01135 0.233696,-0.03516 0.355469,-0.03516 0.220821,0
              0.434152,0.02783 0.644531,0.06445 l 0,-16.1425712 -6,-7 -0.5,0 z m 0.5,1.5 4.699219,5.5
              -3.703125,0 c -0.546,0 -0.996094,-0.4527656 -0.996094,-1.0097656 l 0,-4.4902344 z m
              -9.0000001,8.4999992 0,14.000001 11.0000001,0 0,-14.000001 -11.0000001,0 z m 1,2.000001
              4.0000002,0 0,2 -4.0000002,0 0,-2 z m 5.0000001,0 4,0 0,2 -4,0 0,-2 z m -5.0000001,3 4.0000002,
              0 0,2 -4.0000002,0 0,-2 z m 5.0000001,0 4,0 0,2 -4,0 0,-2 z m -5.0000001,3 4.0000002,0 0,2
              -4.0000002,0 0,-2 z m 5.0000001,0 4,0 0,2 -4,0 0,-2 z m -5.0000001,3 4.0000002,0 0,2
              -4.0000002,0 0,-2 z m 5.0000001,0 4,0 0,2 -4,0 0,-2 z"/>
        <svg:path class="stroked" d="m 21.639621,27.146059 c 0,-0.08319 -0.0294,-0.161372 -0.08788,-0.219854
              l -0.444708,-0.444708 c -0.05848,-0.05848 -0.136977,-0.08788 -0.219852,-0.08788 -0.08288,0
              -0.161371,0.0294 -0.219853,0.08788 l -0.923506,0.923506 0,-2.453093 c 0,-0.171065
              -0.141669,-0.312735 -0.312735,-0.312735 l -0.62547,0 c -0.171065,0 -0.312735,0.14167
              -0.312735,0.312735 l 0,2.453093 -0.923506,-0.923507 c -0.05848,-0.05848 -0.136978,-0.09288
              -0.219852,-0.09288 -0.08288,0 -0.161372,0.03409 -0.219853,0.09288 l -0.444709,0.444709
              c -0.05848,0.05848 -0.08788,0.136979 -0.08788,0.219853 0,0.08288 0.0294,0.161371
              0.08788,0.219852 l 2.213538,2.213538 c 0.05848,0.05848 0.136978,0.08788 0.219852,0.08788
              0.08288,0 0.161371,-0.0294 0.219853,-0.08788 l 2.213537,-2.213538 c 0.05848,-0.05848
              0.08788,-0.136977 0.08788,-0.219852 z"/>
        <svg:path class="stroked" d="m 22.871172,27.153251 c 0,2.071869 -1.680951,3.75282
              -3.75282,3.75282 -2.071869,0 -3.752819,-1.680951 -3.752819,-3.75282 0,-2.071869
              1.68095,-3.752819 3.752819,-3.752819 2.071869,0 3.75282,1.68095 3.75282,3.752819 z"/>
      </svg>
    </a>
    <a [href]="redashUrl" title="עבור ל- re:dash" target="_blank">
      <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1"
        viewBox="0 0 20 25" height="25" width="20">
        <svg:path class="stroked" d="m 9.9999994,0.82433 c -4.89105,0 -8.8494494,3.9580181
              -8.8496094,8.8300781 0,4.8116859 3.8626156,8.7258209 8.6699219,8.8222659 l
              0,4.861328 6.9687501,-8.019531 c 0.01722,-0.02054 0.0357,-0.03985 0.05273,-0.06055
              l 0.03906,-0.04492 -0.0078,0.0039 c 1.234945,-1.517991 1.976557,-3.45234 1.976557,-5.5624929
              0,-4.87206 -3.95856,-8.8300781 -8.8496096,-8.8300781 z"/>
        <svg:path class="filled" d="m 4.63322,11.03481 1.30362,0 a 0.572751,0.572751 0 0 1 0.57095,0.57095
              l 0,1.29413 a 0.572751,0.572751 0 0 1 -0.57095,0.57095 l -1.30362,0 A 0.572751,0.572751
              0 0 1 4.06227,12.89989 l 0,-1.29413 a 0.572587,0.572587 0 0 1 0.57095,-0.57095 z m
              3.01647,-2.85475 1.29414,0 a 0.572751,0.572751 0 0 1 0.57095,0.57095 l 0,4.14888 a
              0.572751,0.572751 0 0 1 -0.57095,0.57095 l -1.29414,0 A 0.572751,0.572751 0 0 1
              7.07874,12.89989 l 0,-4.14888 A 0.572587,0.572587 0 0 1 7.64969,8.18006 Z m 3.00699,1.57011
              1.30362,0 a 0.572751,0.572751 0 0 1 0.57095,0.57095 l 0,2.57877 a 0.572751,0.572751 0 0 1
              -0.57095,0.57095 l -1.30362,0 a 0.572751,0.572751 0 0 1 -0.57095,-0.57095 l 0,-2.57877 a
              0.572587,0.572587 0 0 1 0.57095,-0.57095 z m 3.08309,-3.72067 1.29414,0 a
              0.572751,0.572751 0 0 1 0.57095,0.57095 l 0,6.29944 a 0.572751,0.572751 0 0 1
              -0.57095,0.57095 l -1.29414,0 a 0.572751,0.572751 0 0 1 -0.57095,-0.57095 l 0,-6.29944
              A 0.572587,0.572587 0 0 1 13.73977,6.0295 Z"/>
      </svg>
    </a>
  </div>
  <div class="col-xs-1"></div>
</div>
